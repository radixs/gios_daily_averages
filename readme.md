Instrukcja obsługi:
- środowisko
-- aplikacja została zbudowana za pomocą Laravel Homestead, który zawiera PHP 7.1 i MySQL 5.7.17 zainstalowane na Ubuntu 16.04.
-- aby skonfigurować środowisko można posłużyć się tym tutorialem: https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-on-ubuntu-16-04
- skopiuj kod źródłowy
-- utwórz katalog, gdzie będzie przechowywana aplikacja (sciezka_do_projektu)
-- cd do tego katalogu
-- odpal komendę: git clone https://github.com/radixs/gios_daily_averages.git .
- pobierz wymagane biblioteki
-- odpal komendę composer update (jeżeli nie masz composera, sprawdź jak go zaintalować tutaj: https://getcomposer.org/doc/00-intro.md#installation-linux-unix-osx)
- skonfiguruj dostęp do bazy danych:
-- zmień nazwę pliku .env.example na .env
-- zdefiniuj parametry dostępu do bazy danych poprzez podmianę tych w DB_HOST, DB_PORT, DB_DATABASE, DB_USERNAME, DB_PASSWORD (uzytkownik musi mieć pełne uprawnienia do bazy dnaych)
-- odpal migrację aby utworzyć tabelę do przechowywania danych z sensorów, wpisz komendę: php artisan migrate
-- Opcjonalnie: można wygenerować losowe dane dla ostatnich 3 miesięcy poprzez wykonanie: php artisan db:seed
- zarejestruj cronjob:
-- komenda: crontab -e
-- wybierz edytor jeżeli wcześniej nie wybrano - nano (najłatwiejszy)
-- dodaj na końcu linię: * * * * * php /sciezka_do_projektu/artisan schedule:run >> /dev/null 2>&1
-- ta jedna linijka sprawi, że wszystkie zadania można definiować z poziomu frameworku, zdefiniowane komendy w app/Console/Kernel.php będą pobierać dane z API co godzinę.
-- aby odpalić pobieranie danych z API manualnie wystarczy wpisać: php artisan fetch_gios
- skonfiguruj web server (apache2, nginx) aby potrafił zaserwować aplikację
-- dodaj konfigurację dla wybranego HOSTNAME aby wskazywała na /sciezka_do_projektu/public/index.php
- otwórz stronę prezentacji wpisując do przeglądarki http:/HOSTNAME/
-- na samej górze strony znajduje się select - tutaj można wybrać kod sensora do filtrowania